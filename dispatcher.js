/*! dispatcher 1.0 | http://github.com/jdbartlett/dispatcher | License: WTFPL */
dispatcher=(function(){var c=this;function a(d,f){var e,g,h;h=d.split(".").reverse();e=h.length;g=f;while(e){e-=1;g=g[h[e]]}return g}function b(d,f,e){var g=d;g=a(d,f);if(!g||!g.apply){throw"No such method: "+d}g.apply(f,e)}return function(e){var g=false,f={},d=[];e=e||c;f.add=function(h){var i;if(!h.match){throw"Not a string: "+h}i=Array.prototype.slice.call(arguments,1);if(g){b(h,e,i)}else{d.push({ref:h,args:i})}};f.dispatch=function(){var h,j=d.length;if(g){return}g=true;for(h=0;h<j;h+=1){b(d[h].ref,e,d[h].args)}};return f}}());